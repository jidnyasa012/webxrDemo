<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Matrix Rain</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/137/three.min.js"></script>
</head>
<body>
<script>
// Create a new scene
var scene = new THREE.Scene();

// Create a new camera
var camera = new THREE.PerspectiveCamera(75, innerWidth / innerHeight, 1, 1100);
camera.position.z = 500;

// Add the camera to the scene
scene.add(camera);

// Create a new renderer
var renderer = new THREE.WebGLRenderer();
renderer.setSize(innerWidth, innerHeight);
document.body.appendChild(renderer.domElement);

// Create a new animation loop
var animate = function() {
  requestAnimationFrame(animate);

  // Update the scene
  scene.update();

  // Render the scene
  renderer.render(scene, camera);
};

// Request a WebXR session
navigator.xr.requestSession({
  requiredFeatures: ["dom-camera-image"],
}).then(session => {
  // Acquire the camera
  session.acquireXRCamera().then(camera => {
    camera.startTracking();

    // Create a new material
    var material = new THREE.ShaderMaterial({
      uniforms: {
        time: { type: "float", value: Date.now() / 1000 },
      },
      vertexShader: `
        varying vec2 vUv;
    
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }`,
      fragmentShader: `
        precision highp float;
    
        varying vec2 vUv;
        uniform float time;
    
        void main() {
          vec2 uv = vUv;
          vec3 color = vec3(0.5, 0.5, 0.5);
          uv += vec2(sin(uv.x * 100.0 + time * 0.1) * 0.1, cos(uv.y * 100.0 + time * 0.1) * 0.1);
          uv = vec2(uv.x, 1.0 - uv.y);
          uv *= 200.0;
          uv -= 100.0;
          gl_FragColor = vec4(color, 1.0);
        }`
    });

    // Create a new geometry
    var geometry = new THREE.PlaneBufferGeometry(500, 500);

    // Create a new mesh
    var mesh = new THREE.Mesh(geometry, material);

    // Add the mesh to the scene
    scene.add(mesh);

    // Create a new matrix rain effect
    var matrixRain = new THREE.MatrixRain();

    // Set the matrix rain effect to follow the camera
    matrixRain.followCamera = true;

    // Add the matrix rain effect to the scene
    scene.add(matrixRain);

    // Start the animation loop
    animate();
  });
});
</script>
</body>
</html>
